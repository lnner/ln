# PHP基础第三天

## 运算符

- 算数运算符+、-、*、/、%、++、--

- 赋值运算符=、+=、-=、*=、/=、%=

- 字符串运算符. 和 .=

  - 案例：隔行变色

    ```php
    <?php
    header('content-type:text/html;charset=utf-8');

    $str = "<table width='500' border='1' align='center'>";
    $str .= "<tr bgColor='#f0f0f'>";
    	$str .= "    <th>编号</th>";
    	$str .= "    <th>新闻编号</th>";
    	$str .= "    <th>发布时间</th>";
    	$str .= "</tr>";
    for($i = 0 ; $i < 10 ; $i ++) {
    	if($i % 2 == 0) {
    		$str .= "<tr bgColor='#f0f0f'>";
    	} else {
    		$str .= "<tr>";
        }
    	$str .= "<td>$i</td>";
    	$str .= "<td>&nbsp;</td>";
    	$str .= "<td>&nbsp;</td>";
    	$str .= "</tr>";
    }
    $str .= "</table>";
    echo $str;
    ?>
    ```

- 比较运算符>、<、>=、<=、==、!=、===、!==

  - 案例：字符串比较

  - ASCII码表：如果两个字符进行比较，比较的本质是它们对应的ASCII码。

    ```
    echo ("a" > 120);
    ```

- 逻辑运算符&&、||、!

  - 实例：闰年判断

    ```php
    //条件：
    //1）能够被4整除，且不能被100整除
    //2）能被400整除
    $year = 2000;
    if ($year%4 == 0 && $year % 100 !=0 || $year % 400 ==0) {
    	echo "{$year}是闰年";
    } else {
    	echo "{$year}不是闰年";
    }
    ```

- 运算符优先级

- 三元运算符

  - 案例：比较两个数的大小

    ```php
    $a = 123;
    $b = 456;
    $max = $a > $b ? $a : $b;
    ```

- 错误控制运算符（@）

  - 作用：主要用来屏蔽表达式的错误：

  - 可以用在变量、常量、函数调用之前，但是不能用在函数定义、类定义之前。

    ```php
    $a = 100;
    $b = 0;
    echo @($a / $b);
    ```



## 流程控制

- 顺序结构

  - 赋值语句

    ```php
    $a = 123;
    ```

- 分支结构

  - 分支结构（if）
  - 多条件判断（if else if else）
    - 案例：根据分数给评语。
  - 多分支结构（switch）
    - 案例：完成今天星期几

- 循环结构

  - while
  - do while
  - for
  - break和continue
  - 案例：
    - 1）得到1~100的所有整数相加之和
    - 2）输出100~1000以内所有水仙花数
    - 3）输出九九乘法表



## 数组

### 概念

+ 数组是一组数的集合。如：$arr = array(1,2,3,4,5,6);

### PHP中数组的分类

+ 枚举数组
    + 数组元素的下标（索引），是从0开始的正整数，如：$arr = array(1,2,3,4,5,6);
+ 关联数组：
    + 数组元素的下标，是一个字符串。如：$arr[‘edu’] = ‘大专’
    + 关联数组无法通过数字下标取得对应的元素
+ 混合数组：
    + 两种下标都有的数组，就是混合数组。如：$arr = array(100, ‘edu’=>’大专’ , ‘tel’ => ‘130110’)
+ 多维数组：
    + 数组元素的值，是一个数组，还可以理解为：数组嵌套数组。如：$arr\[5\]\[2\] = 100

### 数组的创建

+ 使用 array() 函数来创建数组

  + 创建枚举数组：

    + 下标是从0 开始的正整数

    ```php
    $arr = array($value1,$value2,$value3,....);
    ```

  + 创建关联数组

    + $key是重新给数组元素指定一个下标
    + 下标和元素的值之间连接号是"=>"，又称"重载元素下标"

    ```php
    $arr = array([$key=>]$value,[$key=>]$value,[$key=>]$value,....)
    ```

  + 创建混合数组

    + 有字符串下标的元素，就没有整型下标
    + 如果$key省略了，就用默认下标
    + 下标只能是整型以及字符串
    + 如果元素没有指定下标，会在最大整数下标的基础上加1.

    ```php
    $arr = array([$key=>]$value,[$key=>]$value,[$key=>]$value,....)
    ```

+ 使用[]来创建数组

  + 创建枚举数组

    ```php
    $arr[] = $value
    ```

    + 如果$arr数组不存在的话，会先创建数组，并添加第1个数组元素，第1个元素的下标为0
    + 如果$arr已经存在 的话，添加新的数组元素，新的数组元素的下标，是最大整数下标+1

  + 创建关联数组：

    ```php
    $arr[$key] = $value
    ```

  + 创建混合数组：

    + 由语法1，2混合创建数组

      ```php
      $arr[] = 12;
      $arr[] = 13;
      $arr["a"] =14;
      $arr[] = 15;
      $arr[20] = 16;
      $arr[] = 19;
      ```

### 多维数组

+ 多维数组，即数组中的元素又是一个数组

  ```php
    $arr = array(
    	array(1,2,3,4),
    	array(10,20,30,40),
    	array('a','b','c'),
    	"abc"
    );
  ```

### 数组中的函数

+   count()
    + 计算数组中的单元数目或对象中的属性个数
    + 语法：int count ( mixed $var [,\$mode = COUNT_NORMAL ] )
    + 参数：
      + $var 是对象或者数组
      + $model:  如果可选的 mode 参数设为      COUNT_RECURSIVE（或 1），count()      将递归地对数组计数。对计算多维数组的所有单元尤其有用。mode      的默认值是 0。count()识别不了无限递归
+   unset()
    +   删除变量或数组元素
    +   语法：void unset ( mixed $var [, mixed $... ] )
    +   删除元素后，仅仅只是相当于将数据从数组中移除掉了，对数组的下标没有影响

### 数组的遍历

+ 使用for加next()遍历数组

  ```php
  for($i = 0; $i < count($arr); $i++) {
  	echo key($arr).current($arr)."<br/>";
  	next($arr);
  }
  ```

  + key()：当前指针处元素的键名(下标)，不会移动指针
  + current()：返回当前指针处元素的值，不会移动指针
  + next(): 返回下一个元素的值，指针移动到下一个元素的开头

+ 使用foreach遍历数组

  ````php
  foreach($arr as $key=>$value) {
  	echo "arr[$key] = \$value<br>";
  }
  ````

### PHP中的数组传值时为值传递

```php
$arr = array(1,2,3,4);
$arr1 = $arr;
$arr1[0] = 100;
echo $arr[0];//1
```



## 函数

### 概念

+ 函数是一段命名的代码段
+ 封装一代码，将来要执行时可以直接调用

### 函数定义格式

```php
function functionName(arguments){
	// fnCode
	return retValue;
}
```
+ function： 定义函数的关键字，不区分大小写
+ functionName：函数名称，命名规则与变量一样，只是不需要加$符号
+ 小括号()：主要用来接受传递过来的参数
+ arguments：定义函数时的参数，形参
+ return 函数的返回值。

### 函数的调用：

+ 实参：调用函数时，传递的参数就是实参，含有真正数据的
+ 形参：定义函数时的参数


+ 案例：得到数组中所有数组的和

### 函数参数的传递：

+ 值传递
  + 函数参数的值传递，就是将参数的值，复制一份，传到函数中
  + 值传递速度比较慢，但修改其中一个不会影响到另一个；

+ 引用传递
  + 引用传递速度比较快，但修改其中一个，另一个也会改变。
  + 引用传递，是将一个变量的地址，复制一份，传到函数中

+ 默认参数

  + 函数中有些参数可能是固定不变的，为了操作方便，可以用默认参数来代替

  + 默认参数必须放在非默认参数的右边

  + 默认参数的值，只能是：字符串、整型、浮点型、布尔型、NULL、数组

    ```php
    function showSelf($name,$age=19,$gender="男") {
    	echo "我叫{$name}，今天{$age},性别{$ender}";
    }
    ```

### 函数可变数量参数

+ func_get_args( void )：返回一个参数列表的枚举数组，参数数组的下标是从0开始的正整数

+ func_get_arg( $index )：返回参数数组中，指定下标的参数的值；

+ func_num_args( void )：返回实参的个数。

  ```php
  function getSum() {
  		$arr = func_get_args();
  		$len = func_num_args();
  		$sum = 0;
  		print_r($arr);
  		echo "<br/>";
  		print_r($len);
  		echo "<br/>";
  		for($i = 0; $i < $len; $i++) {
  			$sum += func_get_arg($i);
  		}
  		echo "$sum";
  	}
  	getSum(1,2,3,4,5);
  ```

  ​

### 函数的返回值

+ 函数的返回值，通过return语句来实现；
+ 将函数的执行结果，返给了函数调用者；
+ return语句一旦执行，函数立即结束，函数剩余的代码不再执行了。
+ return语句有”中断”函数、”退出”函数；
+ return不能同时返回多个值，只能返回一个值。如果想返回多个值，可以放入数组




## 常用系统函数

### 字符串

- 定义字符串基本语法
  - 单引号字符串
  - 双引号字符串
  - nowdoc字符串
  - heredoc字符串
- 字符串常用api
  - strlen() 获取字符串长度
  - substr() 返回字符串的子串
  - strtoupper() 将字符串转化为大写
  - strtolower() 将字符串转化为小写
  - ucfirst() 将字符串的首字母转换为大写
  - trim() 去除字符串首尾处的空白字符
  - ltrim() 删除字符串开头的空白字符
  - rtrim() 删除字符串末端的空白字符
  - strrev() 反转字符串
  - strpos() 查找字符串首次出现的位置，从左往右查找
  - strrpos() 计算指定字符串在目标字符串中最后一次出现的位置，从右往左查找
  - strchr()和strstr() 两者一样，用于查找字符串的首次出现
  - str_replace() 子字符串替换
  - str_repeat() 重复一个字符串

### 数学

- 常用函数
  - max() 求最大值
  - min() 求最小值
  - rand() 产生一个随机整数
  - mt_rand() 更高效的随机数
  - ceil() 进一法取整
  - floor() 舍去法取整
  - round() 对浮点数进行四舍五入
  - pow() 次方运算
  - abs() 求绝对值
  - sqrt() 开方运算

#### 日期

- 常用函数
  - time() 返回自从 Unix 纪元（格林威治时间 1970 年 1 月 1 日 00:00:00）到当前时间的秒数
  - date() 格式化一个本地时间/日期 
  - microtime() 返回当前 Unix 时间戳和微秒数
  - strtotime() 将任何英文文本的日期时间描述解析为 Unix 时间戳







